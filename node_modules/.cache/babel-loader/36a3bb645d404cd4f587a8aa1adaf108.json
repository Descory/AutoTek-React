{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import ReactDOM from'react-dom';import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import NavBar from'../NavBar';import{useParams}from\"react-router\";import'../App.css';/* eslint-disable */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Mechanikas(){var _state$mechanikas,_state$mechanikas2,_state$mechanikas3,_state$mechanikas4;var _useState=useState({mechanikas:null}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setData=_useState2[1];var _useParams=useParams(),id=_useParams.id;var history=useHistory();var token=localStorage.getItem('auth_token');if(token==null){history.push('/prisijungimas');}var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var api;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/mechanikai/\"+id,{method:'get',headers:new Headers({'Authorization':'Bearer'+token})});case 2:api=_context.sent;_context.t0=setData;_context.next=6;return api.json();case 6:_context.t1=_context.sent;_context.t2={mechanikas:_context.t1};(0,_context.t0)(_context.t2);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);if((state===null||state===void 0?void 0:(_state$mechanikas=state.mechanikas)===null||_state$mechanikas===void 0?void 0:_state$mechanikas.status)===\"Token is Expired\"){localStorage.removeItem(\"auth_token\");localStorage.removeItem(\"user_name\");localStorage.removeItem(\"user_role\");localStorage.removeItem(\"user_email\");history.push('/prisijungimas');return null;}var findMechanikas=function findMechanikas(){return\"/mechanikai/\"+id+\"/gidai\";};return/*#__PURE__*/_jsxs(\"div\",{className:\"sb-nav-fixed\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Mechanikas\"}),/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:findMechanikas(),children:\"Gidai\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:[\"Vardas:\",state===null||state===void 0?void 0:(_state$mechanikas2=state.mechanikas)===null||_state$mechanikas2===void 0?void 0:_state$mechanikas2.map(function(data){return/*#__PURE__*/_jsx(\"label\",{className:\"paddingLeft\",children:/*#__PURE__*/_jsxs(\"label\",{children:[data===null||data===void 0?void 0:data.name,\" \"]})},data===null||data===void 0?void 0:data.id);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:[\"El. Pa\\u0161tas:\",state===null||state===void 0?void 0:(_state$mechanikas3=state.mechanikas)===null||_state$mechanikas3===void 0?void 0:_state$mechanikas3.map(function(data){return/*#__PURE__*/_jsx(\"label\",{className:\"paddingLeft\",children:/*#__PURE__*/_jsxs(\"label\",{children:[data===null||data===void 0?void 0:data.email,\" \"]})},data===null||data===void 0?void 0:data.id);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:[\"Rol\\u0117:\",state===null||state===void 0?void 0:(_state$mechanikas4=state.mechanikas)===null||_state$mechanikas4===void 0?void 0:_state$mechanikas4.map(function(data){return/*#__PURE__*/_jsx(\"label\",{className:\"paddingLeft\",children:(data===null||data===void 0?void 0:data.administratorius)===0?/*#__PURE__*/_jsx(\"label\",{children:\"Narys\"}):/*#__PURE__*/_jsx(\"label\",{children:\"Administratorius\"})},data===null||data===void 0?void 0:data.id);})]})})]})]})})})})]});}export default Mechanikas;if(document.getElementById('mechanikas')){ReactDOM.render(/*#__PURE__*/_jsx(Mechanikas,{}),document.getElementById('mechanikas'));}","map":{"version":3,"sources":["C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/src/Single/Mechanikas.js"],"names":["ReactDOM","React","useEffect","useState","useHistory","NavBar","useParams","Mechanikas","mechanikas","state","setData","id","history","token","localStorage","getItem","push","fetchData","fetch","method","headers","Headers","api","json","status","removeItem","findMechanikas","map","data","name","email","administratorius","document","getElementById","render"],"mappings":"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","sourcesContent":["import ReactDOM from 'react-dom';\nimport React, { useEffect, useState} from \"react\";\nimport { useHistory} from \"react-router-dom\";\nimport NavBar from '../NavBar';\nimport { useParams } from \"react-router\";\nimport '../App.css'\n/* eslint-disable */\nfunction Mechanikas(){\n\n    const [state, setData] = useState({\n        mechanikas: null\n    });\n\n\n    const { id } = useParams();\n\n    const history = useHistory();\n    const token = localStorage.getItem('auth_token')\n    \n\n    if(token == null){\n        history.push('/prisijungimas')\n    }\n\n    \n\n    const fetchData = async () => {\n        const api = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/mechanikai/\"+ id,{\n            method: 'get',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        setData({\n            mechanikas: await api.json(),\n        });\n        \n\n        \n    };\n\n    useEffect(() => {\n        fetchData();\n        }, []);\n\n    if(state?.mechanikas?.status === \"Token is Expired\"){\n        localStorage.removeItem(`auth_token`)\n        localStorage.removeItem(`user_name`)\n        localStorage.removeItem(`user_role`)\n        localStorage.removeItem(`user_email`)\n        history.push('/prisijungimas')\n        return null;\n    }\n\n    const findMechanikas = () =>{\n        return \"/mechanikai/\"+id+\"/gidai\"\n    }\n\n    return (\n        <div className=\"sb-nav-fixed\">\n            <NavBar />\n            <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col-md-8\">\n                    <div className=\"card\">\n                        <div className=\"card-header\">Mechanikas \n                        </div>\n                        <a className=\"nav-link\" href={findMechanikas()}>Gidai</a>\n                        <div className=\"card-body\">\n\n                        <div className=\"row mb-3\">\n                            <label className=\"col-md-4 col-form-label text-md-right\">Vardas:\n                            {\n                            state?.mechanikas?.map(data => (\n                                <label className='paddingLeft' key={data?.id}>\n                                <label >{data?.name} </label>\n                                    </label>\n                             ))}\n                             </label>\n                             </div>\n                             <div className=\"row mb-3\">\n                            <label className=\"col-md-4 col-form-label text-md-right\">El. Paštas:\n                            {\n                            state?.mechanikas?.map(data => (\n                                <label className='paddingLeft' key={data?.id}>\n                                <label >{data?.email} </label>\n                                    </label>\n                             ))}\n                             </label>\n                </div>\n                <div className=\"row mb-3\">\n                            <label className=\"col-md-4 col-form-label text-md-right\">Rolė:\n                            {\n                            state?.mechanikas?.map(data => (\n                                <label className='paddingLeft' key={data?.id}>\n                                    {\n                                            data?.administratorius === 0\n                                            ? <label>Narys</label>\n                                            : <label>Administratorius</label>\n                                        }\n                                    </label>\n                             ))}\n                             </label>\n                             </div>\n                                        \n            </div>\n        </div>\n        </div>\n        </div>\n        </div></div>\n    );\n}\n\nexport default Mechanikas;\n\nif (document.getElementById('mechanikas')) {\n    ReactDOM.render(<Mechanikas />, document.getElementById('mechanikas'));\n}\n"]},"metadata":{},"sourceType":"module"}