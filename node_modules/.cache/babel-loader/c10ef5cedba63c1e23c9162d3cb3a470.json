{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import ReactDOM from'react-dom';import React,{useState,useEffect}from\"react\";import{useHistory,Link}from\"react-router-dom\";import NavBar from'../NavBar';import svg from\"../purple_muscle.svg\";/* eslint-disable */import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Automobiliai(){var _state$auto;var history=useHistory();var token=localStorage.getItem('auth_token');var role=localStorage.getItem('user_role');if(token==null){history.push('/prisijungimas');}var _useState=useState({auto:null}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setData=_useState2[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var api;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/automobiliai\",{method:'get',headers:new Headers({'Authorization':'Bearer'+token})});case 2:api=_context.sent;_context.t0=setData;_context.next=6;return api.json();case 6:_context.t1=_context.sent;_context.t2={auto:_context.t1};(0,_context.t0)(_context.t2);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);function deleteAuto(_x){return _deleteAuto.apply(this,arguments);}function _deleteAuto(){_deleteAuto=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var apim;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/automobiliai/\"+id,{method:'delete',headers:new Headers({'Authorization':'Bearer'+token})});case 2:apim=_context2.sent;fetchData();case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _deleteAuto.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"sb-nav-fixed\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[\"Automobiliai\",role===\"1\"?/*#__PURE__*/_jsx(Link,{to:'/automobiliai/naujas',children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark clickas\",children:\"Prid\\u0117ti\"})}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pavadinimas\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Marke\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Kuras\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:state===null||state===void 0?void 0:(_state$auto=state.auto)===null||_state$auto===void 0?void 0:_state$auto.map(function(autom){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:autom===null||autom===void 0?void 0:autom.id}),/*#__PURE__*/_jsx(\"td\",{children:autom===null||autom===void 0?void 0:autom.pavadinimas}),/*#__PURE__*/_jsx(\"td\",{children:autom===null||autom===void 0?void 0:autom.marke}),/*#__PURE__*/_jsx(\"td\",{children:autom===null||autom===void 0?void 0:autom.kuras}),role===\"1\"?/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return deleteAuto(autom===null||autom===void 0?void 0:autom.id);},children:\"I\\u0161trinti\"})}):/*#__PURE__*/_jsx(_Fragment,{})]},autom===null||autom===void 0?void 0:autom.id);})})]})]})})}),/*#__PURE__*/_jsx(\"img\",{src:svg,className:\"fotkeKita\",alt:\"Car SVG\"})]})]});}export default Automobiliai;if(document.getElementById('automobiliai')){ReactDOM.render(/*#__PURE__*/_jsx(Automobiliai,{}),document.getElementById('automobiliai'));}","map":{"version":3,"sources":["C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/src/Lists/Automobiliai.js"],"names":["ReactDOM","React","useState","useEffect","useHistory","Link","NavBar","Automobiliai","history","token","localStorage","getItem","role","push","auto","state","setData","fetchData","fetch","method","headers","Headers","api","json","deleteAuto","id","apim","map","autom","pavadinimas","marke","kuras","svg","document","getElementById","render"],"mappings":"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","sourcesContent":["import ReactDOM from 'react-dom';\nimport React, { useState, useEffect} from \"react\";\nimport { useHistory, Link} from \"react-router-dom\";\nimport NavBar from '../NavBar';\nimport svg from '../purple_muscle.svg'\n/* eslint-disable */\n\n\nfunction Automobiliai() {\n\n    const history = useHistory();\n    const token = localStorage.getItem('auth_token')\n    const role = localStorage.getItem('user_role')\n    if(token == null){\n        history.push('/prisijungimas')\n    }\n\n    const [state, setData] = useState({\n        auto: null\n    });\n\n    const fetchData = async () => {\n        const api = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/automobiliai\",{\n            method: 'get',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        setData({\n            auto: await api.json(),\n        });\n    };\n\n    useEffect(() => {\n        fetchData();\n        }, []);\n\n    async function deleteAuto(id){\n        const apim = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/automobiliai/\" + id,{\n            method: 'delete',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        fetchData();\n    }\n\n    return (\n        <div className=\"sb-nav-fixed\">\n            <NavBar />\n        <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col-md-8\">\n                \n                    <div className=\"card\">\n                        <div className=\"card-header\">Automobiliai\n                        {   role === \"1\"\n                        ?<Link to={'/automobiliai/naujas'}><button className='btn btn-dark clickas'>Pridėti</button></Link>\n                        :<></>}\n        \n      </div>\n                        <table className=\"table table-striped\">\n                        <thead>\n                        <tr>\n                                    <th>Id</th>\n                                    <th>Pavadinimas</th>\n                                    <th>Marke</th>\n                                    <th>Kuras</th>\n                                    <th></th>\n                                </tr>\n                                </thead>\n\n\n                            <tbody>\n                              {\n                                state?.auto?.map(autom => (\n                                    <tr key={autom?.id}>\n                                    <td>{autom?.id}</td>\n                                    <td>{autom?.pavadinimas}</td>\n                                    <td>{autom?.marke}</td>\n                                    <td>{autom?.kuras}</td>\n                                    {   role === \"1\"\n                                        ?<td ><button className='btn btn-danger' onClick={()=>deleteAuto(autom?.id)}>Ištrinti</button></td>\n                                        :<></>\n                                    }\n                                </tr>\n                                ))\n                            }\n                            </tbody>\n                            </table>\n                    </div>\n                </div>\n            </div>\n            <img src={svg} className='fotkeKita' alt='Car SVG'></img>\n        </div>\n        </div>\n    );\n}\n\nexport default Automobiliai;\n\nif (document.getElementById('automobiliai')) {\n    ReactDOM.render(<Automobiliai />, document.getElementById('automobiliai'));\n}\n"]},"metadata":{},"sourceType":"module"}