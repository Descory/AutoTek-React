{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import ReactDOM from'react-dom';import React,{useState,useEffect}from\"react\";import{Animated}from\"react-animated-css\";import{useHistory,Link}from\"react-router-dom\";import NavBar from'../NavBar';import logo from'../monkey.png';import'../App.css';import Modal from'react-bootstrap/Modal';/* eslint-disable */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Mechanikai(){var _state$mechanikai;var history=useHistory();var token=localStorage.getItem('auth_token');var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var username=localStorage.getItem('user_name');var usermail=localStorage.getItem('user_email');var role=localStorage.getItem('user_role');if(token==null){history.push('/prisijungimas');}var _useState3=useState({mechanikai:null}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setData=_useState4[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var api;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/mechanikai\",{method:'get',headers:new Headers({'Authorization':'Bearer'+token})});case 2:api=_context.sent;_context.t0=setData;_context.next=6;return api.json();case 6:_context.t1=_context.sent;_context.t2={mechanikai:_context.t1};(0,_context.t0)(_context.t2);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();var routeToMechanik=function routeToMechanik(id){return'/mechanikai/'+id;};useEffect(function(){fetchData();},[]);function deleteMechanikas(_x){return _deleteMechanikas.apply(this,arguments);}function _deleteMechanikas(){_deleteMechanikas=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var apim;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/mechanikai/\"+id,{method:'delete',headers:new Headers({'Authorization':'Bearer'+token})});case 2:apim=_context2.sent;fetchData();case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _deleteMechanikas.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:/*#__PURE__*/_jsx(Animated,{animationIn:\"bounceInLeft\",animationOut:\"fadeOut\",isVisible:true,children:/*#__PURE__*/_jsx(\"h1\",{children:username})})})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"El. pa\\u0161tas: \",usermail]}),role===\"1\"?/*#__PURE__*/_jsx(\"div\",{children:\"Role: Administratorius\"}):/*#__PURE__*/_jsx(\"div\",{children:\"Role: Narys\"})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:handleClose,children:\"Close\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sb-nav-fixed\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"fotke\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[\"Mechanikai\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark clickas\",onClick:handleShow,children:\"Mano profilis\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Vardas\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Rol\\u0117\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:state===null||state===void 0?void 0:(_state$mechanikai=state.mechanikai)===null||_state$mechanikai===void 0?void 0:_state$mechanikai.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data===null||data===void 0?void 0:data.name}),(data===null||data===void 0?void 0:data.administratorius)===0?/*#__PURE__*/_jsx(\"td\",{children:\"Narys\"}):/*#__PURE__*/_jsx(\"td\",{children:\"Administratorius\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:routeToMechanik(data===null||data===void 0?void 0:data.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark clickas\",children:\"Profilis\"})})}),role===\"1\"?/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteMechanikas(data===null||data===void 0?void 0:data.id);},className:\"btn btn-danger clickas\",children:\"I\\u0161trinti\"})}):/*#__PURE__*/_jsx(_Fragment,{})]},data===null||data===void 0?void 0:data.id);})})]})]})]})})})]})]});}export default Mechanikai;if(document.getElementById('mechanikai')){ReactDOM.render(/*#__PURE__*/_jsx(Mechanikai,{}),document.getElementById('mechanikai'));}","map":{"version":3,"sources":["C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/src/Lists/Mechanikai.js"],"names":["ReactDOM","React","useState","useEffect","Animated","useHistory","Link","NavBar","logo","Modal","Mechanikai","history","token","localStorage","getItem","show","setShow","handleClose","handleShow","username","usermail","role","push","mechanikai","state","setData","fetchData","fetch","method","headers","Headers","api","json","routeToMechanik","id","deleteMechanikas","apim","map","data","name","administratorius","document","getElementById","render"],"mappings":"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","sourcesContent":["import ReactDOM from 'react-dom';\nimport React, { useState, useEffect} from \"react\";\nimport {Animated} from \"react-animated-css\";\nimport { useHistory, Link} from \"react-router-dom\";\nimport NavBar from '../NavBar';\nimport logo from '../monkey.png';\nimport '../App.css';\nimport Modal from 'react-bootstrap/Modal';\n/* eslint-disable */\n\n\nfunction Mechanikai() {\n\n    const history = useHistory();\n    const token = localStorage.getItem('auth_token')\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    const username =  localStorage.getItem('user_name')\n    const usermail =  localStorage.getItem('user_email')\n    const role =  localStorage.getItem('user_role')\n\n\n\n    if(token == null){\n        history.push('/prisijungimas')\n    }\n\n    const [state, setData] = useState({\n        mechanikai: null\n    });\n\n    const fetchData = async () => {\n        const api = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/mechanikai\",{\n            method: 'get',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        setData({\n            mechanikai: await api.json(),\n        });\n    };\n\n    const routeToMechanik = (id) => {\n        return '/mechanikai/' + id\n    }\n    useEffect(() => {\n        fetchData();\n        }, []);\n\n    async function deleteMechanikas(id){\n        const apim = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/mechanikai/\" + id,{\n            method: 'delete',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        fetchData();\n    }\n    return (\n        <>\n        <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>\n          <Animated animationIn=\"bounceInLeft\" animationOut=\"fadeOut\" isVisible={true}><h1>{username}</h1></Animated></Modal.Title>\n        </Modal.Header>\n        <Modal.Body><div>\n            El. paštas: {usermail}\n            </div>\n            {role === \"1\"\n            ? <div>Role: Administratorius</div>\n            :   <div>Role: Narys</div>\n            }\n            </Modal.Body>\n        <Modal.Footer>\n          <button className='btn btn-danger' onClick={handleClose}>\n            Close\n          </button>\n        </Modal.Footer>\n      </Modal>\n\n\n        <div className=\"sb-nav-fixed\">\n            <NavBar />\n        <div className=\"container\">\n            \n            <div className=\"row justify-content-center\">\n                <div className=\"col-md-8\">\n                <img src={logo} className='fotke'></img>\n                    <div className=\"card\">\n                        <div className=\"card-header\">Mechanikai\n                        <button className='btn btn-dark clickas' onClick={handleShow}>\n        Mano profilis\n      </button></div>\n                        <table className=\"table table-striped\">\n                        <thead>\n                        <tr>\n                                    <th scope=\"col\">Vardas</th>\n                                    <th scope=\"col\">Rolė</th>\n                                    <th scope=\"col\"></th>\n                                    <th scope=\"col\"></th>\n                                </tr>\n                                </thead>\n\n\n                            <tbody>\n                              {\n                                state?.mechanikai?.map(data => (\n\n                                    <tr key={data?.id}>\n                                        \n                                    <td>{data?.name}</td>\n                                        {\n                                            data?.administratorius === 0\n                                            ? <td>Narys</td>\n                                            : <td>Administratorius</td>\n                                        }\n                                        <td ><Link to={routeToMechanik(data?.id)}><button className='btn btn-dark clickas'>Profilis</button></Link></td>\n                                        {\n                                            role === \"1\"\n                                            ?<td ><button onClick={()=>deleteMechanikas(data?.id)} className='btn btn-danger clickas'>Ištrinti</button></td>\n                                            :<></>\n                                        }\n\n                                </tr>\n\n                                ))\n                            }\n                            </tbody>\n                            </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n        </div>\n        </>\n    );\n}\n\nexport default Mechanikai;\n\nif (document.getElementById('mechanikai')) {\n    ReactDOM.render(<Mechanikai />, document.getElementById('mechanikai'));\n}\n"]},"metadata":{},"sourceType":"module"}