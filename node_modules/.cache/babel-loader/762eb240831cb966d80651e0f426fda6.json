{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import NavBar from'../NavBar';import'../App.css';import{DropDownList}from\"@progress/kendo-react-dropdowns\";/* eslint-disable */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Gidas(){var _automobilis$automobi;var history=useHistory();var token=localStorage.getItem('auth_token');var kurs=[{kuras:\"benzinas\"},{kuras:\"dyzelinas\"},{kuras:\"elektra\"}];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),temppav=_useState2[0],setPav=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),tempmark=_useState4[0],setMarke=_useState4[1];var _useState5=useState({value:{kuras:\"benzinas\"}}),_useState6=_slicedToArray(_useState5,2),tempProb=_useState6[0],setTempProb=_useState6[1];var _useState7=useState({automobiliai:[]}),_useState8=_slicedToArray(_useState7,2),automobilis=_useState8[0],setAuto=_useState8[1];if((automobilis===null||automobilis===void 0?void 0:(_automobilis$automobi=automobilis.automobiliai)===null||_automobilis$automobi===void 0?void 0:_automobilis$automobi.status)===\"Token is Expired\"){localStorage.removeItem(\"auth_token\");localStorage.removeItem(\"user_name\");localStorage.removeItem(\"user_role\");localStorage.removeItem(\"user_email\");history.push('/prisijungimas');return null;}var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var ww;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();//console.log(JSON.stringify({'pavadinimas': temppav,  \"marke\":tempmark, \"kuras\":tempProb.kuras}))\n_context.next=3;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/automobiliai\",{method:'post',headers:new Headers({'Content-Type':'application/json','Authorization':'Bearer'+token}),body:JSON.stringify({'pavadinimas':temppav,\"marke\":tempmark,\"kuras\":tempProb.kuras})});case 3:ww=_context.sent;history.push('/automobiliai');case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Naujas Automobilis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3 \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:\"Pavadinimas:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:temppav,onChange:function onChange(e){return setPav(e.target.value);},required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3 \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:\"Marke:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",required:true,value:tempmark,onChange:function onChange(e){return setMarke(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:\"Kuras:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(DropDownList,{required:true,data:kurs,textField:\"kuras\",dataItemKey:\"kuras\",value:tempProb,onChange:function onChange(e){return setTempProb(e.target.value);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-0 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 offset-md-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Patvirtinti\"})})})]})})]})})})})]});}export default Gidas;","map":{"version":3,"sources":["C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/src/Single/AutoAdd.js"],"names":["React","useState","useHistory","NavBar","DropDownList","Gidas","history","token","localStorage","getItem","kurs","kuras","temppav","setPav","tempmark","setMarke","value","tempProb","setTempProb","automobiliai","automobilis","setAuto","status","removeItem","push","handleSubmit","e","preventDefault","fetch","method","headers","Headers","body","JSON","stringify","ww","target"],"mappings":"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","sourcesContent":["\nimport React, {  useState} from \"react\";\nimport { useHistory} from \"react-router-dom\";\nimport NavBar from '../NavBar';\nimport '../App.css'\nimport { DropDownList } from \"@progress/kendo-react-dropdowns\";\n/* eslint-disable */\nfunction Gidas(){\n    const history = useHistory();\n    const token =  localStorage.getItem('auth_token')\n\n    const kurs = [\n        {\n            kuras: \"benzinas\",\n        },\n        {\n            kuras: \"dyzelinas\"\n        },\n        {\n            kuras: \"elektra\"\n        }]\n\n    const [temppav, setPav] = useState('');\n    const [tempmark, setMarke] = useState('');\n    const [tempProb, setTempProb] = useState({\n        value: {\n            kuras: \"benzinas\"\n        }\n    });\n\n    const [automobilis, setAuto] = useState({\n        automobiliai: []\n    });\n\n    if(automobilis?.automobiliai?.status === \"Token is Expired\"){\n        localStorage.removeItem(`auth_token`)\n        localStorage.removeItem(`user_name`)\n        localStorage.removeItem(`user_role`)\n        localStorage.removeItem(`user_email`)\n        history.push('/prisijungimas')\n        return null;\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        //console.log(JSON.stringify({'pavadinimas': temppav,  \"marke\":tempmark, \"kuras\":tempProb.kuras}))\n        const ww = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/automobiliai\",{\n            method: 'post',\n            headers: new Headers({\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer' + token\n            }),\n            body: JSON.stringify({'pavadinimas': temppav,  \"marke\":tempmark, \"kuras\":tempProb.kuras})\n\n        });\n        history.push('/automobiliai')\n    }\n\n    return (\n        <div>\n            <NavBar />\n        <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col-md-8\">\n                    <div className=\"card\">\n                        <div className=\"card-header\">Naujas Automobilis</div>\n\n                        <div className=\"card-body\">\n                        <form onSubmit={handleSubmit}>\n                        <div className=\"row mb-3 \">    \n                            <label className=\"col-md-4 col-form-label text-md-right\">Pavadinimas:</label>\n                            <div className=\"col-md-6\">\n                            <input className=\"form-control\"\n                                type=\"text\"\n                                    value={temppav}\n                                    onChange={(e) => setPav(e.target.value)}\n                                    required\n                                ></input>\n                                </div>\n                                \n                        </div>\n                        <div className=\"row mb-3 \">    \n                            <label className=\"col-md-4 col-form-label text-md-right\">Marke:</label>\n                            <div className=\"col-md-6\">\n                            <input className=\"form-control\"\n                                type=\"text\"\n                                required\n                                    value={tempmark}\n                                    onChange={(e) => setMarke(e.target.value)}\n\n                                ></input>\n                                </div>\n                                \n                        </div>\n                        <div className=\"row mb-3\">   \n                            <label className=\"col-md-4 col-form-label text-md-right\">Kuras: \n                                </label>\n                                <div className=\"col-md-6\">\n                                <DropDownList\n                                required\n                                        data={kurs}\n                                        textField={\"kuras\"}\n                                        dataItemKey=\"kuras\"\n                                        value={tempProb}\n                                        onChange={(e) =>setTempProb(e.target.value)}\n                                    />\n                                </div>\n                            \n                        </div>\n                        <div className=\"row mb-0 \">\n                            <div className=\"col-md-8 offset-md-4\">\n                                <button type=\"submit\" className=\"btn btn-primary\">\n                                    Patvirtinti\n                                </button>\n\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n        </div>\n        </div>\n        </div>\n    );\n}\n\nexport default Gidas;\n"]},"metadata":{},"sourceType":"module"}