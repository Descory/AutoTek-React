{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable */import ReactDOM from'react-dom';import React,{useState,useEffect}from\"react\";import{useHistory,Link}from\"react-router-dom\";import NavBar from'../NavBar';import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProblemosSimptomai(){var _simptomas$simptomai,_simptomas$simptomai2,_problema$problemos;var history=useHistory();var token=localStorage.getItem('auth_token');var role=localStorage.getItem('user_role');var userid=localStorage.getItem('user_id');if(token==null){history.push('/prisijungimas');}if(role===\"0\"){history.push('/');}var _useState=useState({simptomai:null}),_useState2=_slicedToArray(_useState,2),simptomas=_useState2[0],setSimptomai=_useState2[1];var _useState3=useState({problemos:null}),_useState4=_slicedToArray(_useState3,2),problema=_useState4[0],setProblemos=_useState4[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var apis,apip;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/simptomai\",{method:'get',headers:new Headers({'Authorization':'Bearer'+token})});case 2:apis=_context.sent;_context.t0=setSimptomai;_context.next=6;return apis.json();case 6:_context.t1=_context.sent;_context.t2={simptomai:_context.t1};(0,_context.t0)(_context.t2);_context.next=11;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/problemos\",{method:'get',headers:new Headers({'Authorization':'Bearer'+token})});case 11:apip=_context.sent;_context.t3=setProblemos;_context.next=15;return apip.json();case 15:_context.t4=_context.sent;_context.t5={problemos:_context.t4};(0,_context.t3)(_context.t5);case 18:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);if((simptomas===null||simptomas===void 0?void 0:(_simptomas$simptomai=simptomas.simptomai)===null||_simptomas$simptomai===void 0?void 0:_simptomas$simptomai.status)===\"Token is Expired\"){localStorage.removeItem(\"auth_token\");localStorage.removeItem(\"user_name\");localStorage.removeItem(\"user_role\");localStorage.removeItem(\"user_email\");history.push('/prisijungimas');return null;}function deleteSimptomas(_x){return _deleteSimptomas.apply(this,arguments);}function _deleteSimptomas(){_deleteSimptomas=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var apim;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/simptomai/\"+id,{method:'delete',headers:new Headers({'Authorization':'Bearer'+token})});case 2:apim=_context2.sent;fetchData();case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _deleteSimptomas.apply(this,arguments);}function deleteProblema(_x2){return _deleteProblema.apply(this,arguments);}function _deleteProblema(){_deleteProblema=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var apim;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/problemos/\"+id,{method:'delete',headers:new Headers({'Authorization':'Bearer'+token})});case 2:apim=_context3.sent;fetchData();case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _deleteProblema.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card overflow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Simptomai\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:\"Apra\\u0161ymas\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:simptomas===null||simptomas===void 0?void 0:(_simptomas$simptomai2=simptomas.simptomai)===null||_simptomas$simptomai2===void 0?void 0:_simptomas$simptomai2.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data===null||data===void 0?void 0:data.id}),/*#__PURE__*/_jsx(\"td\",{children:data===null||data===void 0?void 0:data.aprasymas}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger clickas\",onClick:function onClick(){return deleteSimptomas(data.id);},children:\"I\\u0161trinti\"})})]},data===null||data===void 0?void 0:data.id);})})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card overflow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Problemos\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Apra\\u0161ymas\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:problema===null||problema===void 0?void 0:(_problema$problemos=problema.problemos)===null||_problema$problemos===void 0?void 0:_problema$problemos.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data===null||data===void 0?void 0:data.id}),/*#__PURE__*/_jsx(\"td\",{children:data===null||data===void 0?void 0:data.aprasymas}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger clickas\",onClick:function onClick(){return deleteProblema(data.id);},children:\"I\\u0161trinti\"})})]},data===null||data===void 0?void 0:data.id);})})]})]})})})]})]});}export default ProblemosSimptomai;if(document.getElementById('probsimpt')){ReactDOM.render(/*#__PURE__*/_jsx(ProblemosSimptomai,{}),document.getElementById('probsimpt'));}","map":{"version":3,"sources":["C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/src/Lists/ProblemosSimptomai.js"],"names":["ReactDOM","React","useState","useEffect","useHistory","Link","NavBar","ProblemosSimptomai","history","token","localStorage","getItem","role","userid","push","simptomai","simptomas","setSimptomai","problemos","problema","setProblemos","fetchData","fetch","method","headers","Headers","apis","json","apip","status","removeItem","deleteSimptomas","id","apim","deleteProblema","map","data","aprasymas","document","getElementById","render"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport ReactDOM from 'react-dom';\nimport React, { useState, useEffect} from \"react\";\nimport { useHistory, Link} from \"react-router-dom\";\nimport NavBar from '../NavBar';\nimport '../App.css'\n\n\n\nfunction ProblemosSimptomai() {\n\n    const history = useHistory();\n    const token = localStorage.getItem('auth_token')\n    const role = localStorage.getItem('user_role')\n    const userid = localStorage.getItem('user_id')\n\n    if(token == null){\n        history.push('/prisijungimas')\n    }\n    if(role === \"0\"){\n        history.push('/')\n    }\n\n    const [simptomas, setSimptomai] = useState({\n        simptomai: null\n    });\n\n    const [problema, setProblemos] = useState({\n        problemos: null\n    });\n\n    const fetchData = async () => {\n        const apis = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/simptomai\",{\n            method: 'get',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        setSimptomai({\n            simptomai: await apis.json(),\n        });\n\n        const apip = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/problemos\",{\n            method: 'get',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        setProblemos({\n            problemos: await apip.json(),\n        });\n\n    };\n\n    useEffect(() => {\n        fetchData();\n        }, []);\n\n    if(simptomas?.simptomai?.status === \"Token is Expired\"){\n        localStorage.removeItem(`auth_token`)\n        localStorage.removeItem(`user_name`)\n        localStorage.removeItem(`user_role`)\n        localStorage.removeItem(`user_email`)\n        history.push('/prisijungimas')\n        return null;\n    }\n\n    async function deleteSimptomas(id){\n        const apim = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/simptomai/\" + id,{\n            method: 'delete',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        fetchData();\n    }\n\n    async function deleteProblema(id){\n        const apim = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/problemos/\" + id,{\n            method: 'delete',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        fetchData();\n    }\n\n    return (\n        <div>\n            <NavBar />\n        <div className=\"container\" >\n            <div className=\"row justify-content-center\">\n                <div className=\"col-md-8\">\n                    <div className=\"card overflow\">\n                        <div className=\"card-header\">Simptomai</div>\n\n                        <table className=\"table table-striped\">\n                        <thead>\n                        <tr>\n                        <th scope=\"row\">Id</th>\n                                    <th scope=\"row\">Aprašymas</th>\n                                    <th scope=\"row\"></th>\n                                </tr>\n                                </thead>\n                            <tbody>\n                              {\n                                simptomas?.simptomai?.map(data => (\n                                    \n                                    <tr key={data?.id}>\n                                         <td >{data?.id}</td>\n                                        <td>{data?.aprasymas}</td>\n                                        <td ><button className='btn btn-danger clickas' onClick={()=>deleteSimptomas(data.id)}>Ištrinti</button></td>\n                                </tr>\n                                ))\n                            }\n                            </tbody>\n                            </table>\n\n                    </div>\n                </div>\n            </div>\n            <div className=\"row justify-content-center\">\n                <div className=\"col-md-8\">\n                    <div className=\"card overflow\">\n                        <div className=\"card-header\">Problemos</div>\n\n                        <table className=\"table table-striped\">\n                        <thead>\n                        <tr>\n                        <th scope=\"col\">Id</th>\n                                    <th scope=\"col\">Aprašymas</th>\n                                    <th scope=\"col\"></th>\n                                </tr>\n                                </thead>\n                            <tbody>\n                              {\n                                problema?.problemos?.map(data => (\n                                    \n                                    <tr key={data?.id}>\n                                         <td >{data?.id}</td>\n                                        <td>{data?.aprasymas}</td>\n                                        <td ><button className='btn btn-danger clickas' onClick={()=>deleteProblema(data.id)}>Ištrinti</button></td>\n                                </tr>\n                                ))\n                            }\n                            </tbody>\n                            </table>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n        </div>\n    );\n}\n\nexport default ProblemosSimptomai;\n\nif (document.getElementById('probsimpt')) {\n    ReactDOM.render(<ProblemosSimptomai />, document.getElementById('probsimpt'));\n}\n"]},"metadata":{},"sourceType":"module"}