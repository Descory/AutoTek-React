{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable */import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import NavBar from'../NavBar';import{useParams}from\"react-router\";import'../App.css';import{DropDownList}from\"@progress/kendo-react-dropdowns\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Gidas(){var _automobilis$automobi;var history=useHistory();var _useParams=useParams(),id=_useParams.id;var token=localStorage.getItem('auth_token');var username=localStorage.getItem('user_name');var userid=localStorage.getItem('user_id');var _useState=useState(''),_useState2=_slicedToArray(_useState,2),tempSprend=_useState2[0],setTempSprend=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),tempAuto=_useState4[0],setTempAuto=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),tempProb=_useState6[0],setTempProb=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),tempSimpt=_useState8[0],setTempSimt=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),descr=_useState10[0],setDescription=_useState10[1];var prosim=[{id:\"simptomas\"},{id:\"problema\"}];var _useState11=useState({id:[]}),_useState12=_slicedToArray(_useState11,2),prosimpt=_useState12[0],setPS=_useState12[1];var _useState13=useState({automobiliai:[]}),_useState14=_slicedToArray(_useState13,2),automobilis=_useState14[0],setAuto=_useState14[1];var _useState15=useState({simptomai:[]}),_useState16=_slicedToArray(_useState15,2),simptomas=_useState16[0],setSimptomai=_useState16[1];var _useState17=useState({problemos:[]}),_useState18=_slicedToArray(_useState17,2),problema=_useState18[0],setProblemos=_useState18[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var apia,apis,apip;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/automobiliai\",{method:'get',headers:new Headers({'Authorization':'Bearer'+token})});case 2:apia=_context.sent;_context.t0=setAuto;_context.next=6;return apia.json();case 6:_context.t1=_context.sent;_context.t2={automobiliai:_context.t1};(0,_context.t0)(_context.t2);_context.next=11;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/simptomai\",{method:'get',headers:new Headers({'Authorization':'Bearer'+token})});case 11:apis=_context.sent;_context.t3=setSimptomai;_context.next=15;return apis.json();case 15:_context.t4=_context.sent;_context.t5={simptomai:_context.t4};(0,_context.t3)(_context.t5);_context.next=20;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/problemos\",{method:'get',headers:new Headers({'Authorization':'Bearer'+token})});case 20:apip=_context.sent;_context.t6=setProblemos;_context.next=24;return apip.json();case 24:_context.t7=_context.sent;_context.t8={problemos:_context.t7};(0,_context.t6)(_context.t8);case 27:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();var findAuto=function findAuto(id){var x=null;if((automobilis===null||automobilis===void 0?void 0:automobilis.automobiliai)!=null){automobilis===null||automobilis===void 0?void 0:automobilis.automobiliai.forEach(function(element){if(element.id===id){x=element.pavadinimas+\" \"+element.marke;if(element.kuras===\"dyzelinas\"){x+=\" (d)\";}else if(element.kuras===\"benzinas\"){x+=\" (b)\";}else{x+=\" (e)\";}}});return x;}else{return'id:'+id;}};useEffect(function(){fetchData();},[]);if((automobilis===null||automobilis===void 0?void 0:(_automobilis$automobi=automobilis.automobiliai)===null||_automobilis$automobi===void 0?void 0:_automobilis$automobi.status)===\"Token is Expired\"){localStorage.removeItem(\"auth_token\");localStorage.removeItem(\"user_name\");localStorage.removeItem(\"user_role\");localStorage.removeItem(\"user_email\");history.push('/prisijungimas');return null;}var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var ww;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(JSON.stringify({'automobilis_id':tempAuto.id,\"simptomas_id\":tempSimpt.id,\"problema_id\":tempProb.id,'sprendimas':tempSprend}));_context2.next=4;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/gidai\",{method:'post',headers:new Headers({'Content-Type':'application/json','Authorization':'Bearer'+token}),body:JSON.stringify({'automobilis_id':tempAuto.id,\"simptomas_id\":tempSimpt.id,\"problema_id\":tempProb.id,'sprendimas':tempSprend})});case 4:ww=_context2.sent;history.push('/gidai');case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleSubmit1=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var x,ww;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();console.log();x=\"\";if(prosimpt.id===\"problema\"){x=\"https://autoteksaitynai.azurewebsites.net/api/problemos\";}else{x=\"https://autoteksaitynai.azurewebsites.net/api/simptomai\";}_context3.next=6;return fetch(x,{method:'post',headers:new Headers({'Content-Type':'application/json','Authorization':'Bearer'+token}),body:JSON.stringify({\"aprasymas\":descr})});case 6:ww=_context3.sent;fetchData();case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSubmit1(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Naujas Gidas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3 \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:\"Autorius:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{readOnly:true,className:\"form-control\",type:\"text\",value:username})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:\"Automobilis:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(DropDownList,{data:automobilis===null||automobilis===void 0?void 0:automobilis.automobiliai,textField:\"pavadinimas\",dataItemKey:\"id\",value:tempAuto.value,onChange:function onChange(e){return setTempAuto(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:\"Simptomai:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(DropDownList,{data:simptomas===null||simptomas===void 0?void 0:simptomas.simptomai,textField:\"aprasymas\",dataItemKey:\"id\",value:tempSimpt.value,onChange:function onChange(e){return setTempSimt(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:\"Problemos:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(DropDownList,{data:problema===null||problema===void 0?void 0:problema.problemos,textField:\"aprasymas\",dataItemKey:\"id\",value:tempProb.value,onChange:function onChange(e){return setTempProb(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:\"Sprendimas:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",type:\"text\",required:true,onChange:function onChange(e){return setTempSprend(e.target.value);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-0 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 offset-md-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Patvirtinti\"})})})]})})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Prid\\u0117ti simptom\\u0105/problem\\u0105\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit1,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:\"Problema / Sprendimas:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(DropDownList,{data:prosim,required:true,textField:\"id\",dataItemKey:\"id\",value:prosimpt.value,onChange:function onChange(e){return setPS(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:\"Apra\\u0161ymas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",required:true,value:descr,onChange:function onChange(e){return setDescription(e.target.value);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-0 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 offset-md-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Patvirtinti\"})})})]})})]})})})})]});}export default Gidas;","map":{"version":3,"sources":["C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/src/Single/GidasAdd.js"],"names":["React","useEffect","useState","useHistory","NavBar","useParams","DropDownList","Gidas","history","id","token","localStorage","getItem","username","userid","tempSprend","setTempSprend","tempAuto","setTempAuto","tempProb","setTempProb","tempSimpt","setTempSimt","descr","setDescription","prosim","prosimpt","setPS","automobiliai","automobilis","setAuto","simptomai","simptomas","setSimptomai","problemos","problema","setProblemos","fetchData","fetch","method","headers","Headers","apia","json","apis","apip","findAuto","x","forEach","element","pavadinimas","marke","kuras","status","removeItem","push","handleSubmit","e","preventDefault","console","log","JSON","stringify","body","ww","handleSubmit1","value","target"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, { useEffect, useState} from \"react\";\nimport { useHistory} from \"react-router-dom\";\nimport NavBar from '../NavBar';\nimport { useParams } from \"react-router\";\nimport '../App.css'\nimport { DropDownList } from \"@progress/kendo-react-dropdowns\";\n\nfunction Gidas(){\n    const history = useHistory();\n    const { id } = useParams();\n    const token =  localStorage.getItem('auth_token')\n    const username =  localStorage.getItem('user_name')\n    const userid =  localStorage.getItem('user_id')\n\n    const [tempSprend, setTempSprend] = useState('');\n    const [tempAuto, setTempAuto] = useState('');\n    const [tempProb, setTempProb] = useState('');\n    const [tempSimpt, setTempSimt] = useState('');\n    const [descr, setDescription] = useState('');\n\n    const prosim = [\n        {\n            id: \"simptomas\",\n        },\n        {\n            id: \"problema\"\n        }]\n\n    const [prosimpt, setPS] = useState({\n            id: []\n    });\n\n    const [automobilis, setAuto] = useState({\n        automobiliai: []\n    });\n\n    const [simptomas, setSimptomai] = useState({\n        simptomai: []\n    });\n\n    const [problema, setProblemos] = useState({\n        problemos: []\n    });\n\n    const fetchData = async () => {\n        const apia = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/automobiliai\",{\n            method: 'get',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        setAuto({\n            automobiliai: await apia.json(),\n        });\n        const apis = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/simptomai\",{\n            method: 'get',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        setSimptomai({\n            simptomai: await apis.json(),\n        });\n\n        const apip = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/problemos\",{\n            method: 'get',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        setProblemos({\n            problemos: await apip.json(),\n        });\n\n    };\n\n \n    const findAuto = (id) => {\n        var x = null;\n        if(automobilis?.automobiliai != null){\n            automobilis?.automobiliai.forEach(element => {\n                if(element.id === id){\n                    x = element.pavadinimas + \" \" + element.marke;\n                    if(element.kuras === \"dyzelinas\"){\n                        x += \" (d)\"\n                    }\n                    else if(element.kuras === \"benzinas\"){\n                        x += \" (b)\"\n                    }\n                    else {\n                        x += \" (e)\"\n                    }\n                }\n            });\n            return x;\n        }\n        else{\n            return 'id:' + id;\n        }\n    }\n\n\n    useEffect(() => {\n        fetchData();\n        }, []);\n\n    if(automobilis?.automobiliai?.status === \"Token is Expired\"){\n        localStorage.removeItem(`auth_token`)\n        localStorage.removeItem(`user_name`)\n        localStorage.removeItem(`user_role`)\n        localStorage.removeItem(`user_email`)\n        history.push('/prisijungimas')\n        return null;\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        console.log(JSON.stringify({'automobilis_id': tempAuto.id,  \"simptomas_id\":tempSimpt.id, \"problema_id\":tempProb.id, 'sprendimas': tempSprend }))\n        const ww = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/gidai\",{\n            method: 'post',\n            headers: new Headers({\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer' + token\n            }),\n            body: JSON.stringify({'automobilis_id': tempAuto.id,  \"simptomas_id\":tempSimpt.id, \"problema_id\":tempProb.id, 'sprendimas': tempSprend })\n\n        });\n        history.push('/gidai')\n    }\n\n    const handleSubmit1 = async (e) => {\n        e.preventDefault();\n        console.log()\n       \n        var x = \"\"\n        if(prosimpt.id === \"problema\"){\n            x = \"https://autoteksaitynai.azurewebsites.net/api/problemos\"\n        }\n        else{\n            x = \"https://autoteksaitynai.azurewebsites.net/api/simptomai\"\n        }\n        const ww = await fetch(x ,{\n            method: 'post',\n            headers: new Headers({\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer' + token\n            }),\n            body: JSON.stringify({\"aprasymas\":descr})\n\n        });\n        fetchData();\n    }\n    return (\n        <div>\n            <NavBar />\n        <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col-md-8\">\n                    <div className=\"card\">\n                        <div className=\"card-header\">Naujas Gidas</div>\n\n                        <div className=\"card-body\">\n                        <form onSubmit={handleSubmit}>\n                        <div className=\"row mb-3 \">    \n                            <label className=\"col-md-4 col-form-label text-md-right\">Autorius:</label>\n                            <div className=\"col-md-6\">\n                            <input readOnly className=\"form-control\"\n                                type=\"text\"\n                                    value={username}\n                                ></input>\n                                </div>\n                                \n                        </div>\n                        <div className=\"row mb-3\">   \n                            <label className=\"col-md-4 col-form-label text-md-right\">Automobilis: \n                                </label>\n                                <div className=\"col-md-6\">\n                                <DropDownList\n                                        data={automobilis?.automobiliai}\n                                        textField={\"pavadinimas\"}\n                                        dataItemKey=\"id\"\n                                        value={tempAuto.value}\n                                        onChange={(e) =>setTempAuto(e.target.value)}\n                                    />\n                                </div>\n                            \n                        </div>\n                        <div className=\"row mb-3\">   \n                            <label className=\"col-md-4 col-form-label text-md-right\">Simptomai: \n                                </label>\n                                <div className=\"col-md-6\">\n                                  \n                                <DropDownList\n                                        data={simptomas?.simptomai}\n                                        textField={\"aprasymas\"}\n                                        dataItemKey=\"id\"\n                                        value={tempSimpt.value}\n                                        onChange={(e) =>setTempSimt(e.target.value)}\n                                    />\n                                </div>\n                                \n                            \n                        </div>\n                        <div className=\"row mb-3\">   \n                            <label className=\"col-md-4 col-form-label text-md-right\">Problemos: \n                                </label>\n                                <div className=\"col-md-6\">\n                                <DropDownList\n                                        data={problema?.problemos}\n                                        textField={\"aprasymas\"}\n                                        dataItemKey=\"id\"\n                                        value={tempProb.value}\n                                        onChange={(e) =>setTempProb(e.target.value)}\n                                    />\n                                </div>\n                            \n                        </div>\n                        <div className=\"row mb-3\">   \n                            <label className=\"col-md-4 col-form-label text-md-right\">Sprendimas: \n                                </label>\n                                <div className=\"col-md-6\">\n                                <textarea className=\"form-control\"\n                                type=\"text\"\n                                required\n                                    onChange={(e) => setTempSprend(e.target.value)}\n                                ></textarea>\n                                </div>\n                            \n                        </div>\n                        <div className=\"row mb-0 \">\n                            <div className=\"col-md-8 offset-md-4\">\n                                <button type=\"submit\" className=\"btn btn-primary\">\n                                    Patvirtinti\n                                </button>\n\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n        </div>\n        </div>\n        <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col-md-8\">\n                    <div className=\"card\">\n                        <div className=\"card-header\">Pridėti simptomą/problemą</div>\n\n                        <div className=\"card-body\">\n                        <form onSubmit={handleSubmit1}>\n                        <div className=\"row mb-3\">   \n                            <label className=\"col-md-4 col-form-label text-md-right\">Problema / Sprendimas: \n                                </label>\n                                <div className=\"col-md-6\">\n                                <DropDownList\n                                        data={prosim}\n                                        required\n                                        textField=\"id\"\n                                        dataItemKey=\"id\"\n                                        value={prosimpt.value}\n                                        onChange={(e) =>setPS(e.target.value)}\n                                    />\n                                </div>\n                            \n                        </div>\n                        \n                        \n                        <div className=\"row mb-3\">\n                            <label className=\"col-md-4 col-form-label text-md-right\">Aprašymas</label>\n\n                            <div className=\"col-md-6\">\n                            <input className=\"form-control\"\n                                    type=\"text\"\n                                    required\n                                    value={descr}\n                                    onChange={(e) => setDescription(e.target.value)}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"row mb-0 \">\n                            <div className=\"col-md-8 offset-md-4\">\n                                <button type=\"submit\" className=\"btn btn-primary\">\n                                    Patvirtinti\n                                </button>\n\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n        </div>\n        </div>\n        </div>\n    );\n}\n\nexport default Gidas;\n"]},"metadata":{},"sourceType":"module"}