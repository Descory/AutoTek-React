{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import ReactDOM from'react-dom';import React,{useEffect,useState}from\"react\";import{useHistory,Link}from\"react-router-dom\";import NavBar from'../NavBar';import{useParams}from\"react-router\";import'../App.css';/* eslint-disable */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MechanikasGidai(){var _state$mechanikas,_state$gidai,_state$gidai2,_state$gidai3;var _useState=useState({gidai:null}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setData=_useState2[1];var _useParams=useParams(),id=_useParams.id;var history=useHistory();var token=localStorage.getItem('auth_token');if(token==null){history.push('/prisijungimas');}var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var api;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://autoteksaitynai.azurewebsites.net/api/mechanikai/\"+id+\"/gidai\",{method:'get',headers:new Headers({'Authorization':'Bearer'+token})});case 2:api=_context.sent;_context.t0=setData;_context.next=6;return api.json();case 6:_context.t1=_context.sent;_context.t2={gidai:_context.t1};(0,_context.t0)(_context.t2);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);if((state===null||state===void 0?void 0:(_state$mechanikas=state.mechanikas)===null||_state$mechanikas===void 0?void 0:_state$mechanikas.status)===\"Token is Expired\"){localStorage.removeItem(\"auth_token\");localStorage.removeItem(\"user_name\");localStorage.removeItem(\"user_role\");localStorage.removeItem(\"user_email\");localStorage.removeItem(\"user_id\");history.push('/prisijungimas');return null;}console.log(state===null||state===void 0?void 0:(_state$gidai=state.gidai)===null||_state$gidai===void 0?void 0:_state$gidai.message);var findMechanikas=function findMechanikas(){return\"/mechanikai/\"+id;};if((state===null||state===void 0?void 0:(_state$gidai2=state.gidai)===null||_state$gidai2===void 0?void 0:_state$gidai2.message)!=undefined){return/*#__PURE__*/_jsxs(\"div\",{className:\"sb-nav-fixed\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Mechaniko Gidai\"}),/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:findMechanikas(),children:\"Mechanikas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:/*#__PURE__*/_jsx(\"label\",{className:\"paddingLeft\",children:/*#__PURE__*/_jsx(\"label\",{children:\"Gid\\u0173 nerasta!\"})})})})})]})})})})]});}else return/*#__PURE__*/_jsxs(\"div\",{className:\"sb-nav-fixed\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Mechaniko Gidai\"}),/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:findMechanikas(),children:\"Mechanikas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:state===null||state===void 0?void 0:(_state$gidai3=state.gidai)===null||_state$gidai3===void 0?void 0:_state$gidai3.map(function(data){return/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"label\",{className:\"col-md-4 col-form-label text-md-right\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"paddingLeft\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[data===null||data===void 0?void 0:data.sprendimas,\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:'/gidai/'+data.id,children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",children:\"Atidaryti\"})})})]})})}),\" \"]},data===null||data===void 0?void 0:data.id);})})]})})})})]});}export default MechanikasGidai;if(document.getElementById('mechanikasGidai')){ReactDOM.render(/*#__PURE__*/_jsx(MechanikasGidai,{}),document.getElementById('mechanikasGidai'));}","map":{"version":3,"sources":["C:/Users/simis/Desktop/SaitynaiGit/AutotekReact/autotekreact/src/Single/MechanikasGidai.js"],"names":["ReactDOM","React","useEffect","useState","useHistory","Link","NavBar","useParams","MechanikasGidai","gidai","state","setData","id","history","token","localStorage","getItem","push","fetchData","fetch","method","headers","Headers","api","json","mechanikas","status","removeItem","console","log","message","findMechanikas","undefined","map","data","sprendimas","document","getElementById","render"],"mappings":"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","sourcesContent":["import ReactDOM from 'react-dom';\nimport React, { useEffect, useState} from \"react\";\nimport { useHistory, Link} from \"react-router-dom\";\nimport NavBar from '../NavBar';\nimport { useParams } from \"react-router\";\nimport '../App.css'\n/* eslint-disable */\nfunction MechanikasGidai(){\n\n    const [state, setData] = useState({\n        gidai: null\n    });\n\n\n    const { id } = useParams();\n\n    const history = useHistory();\n    const token = localStorage.getItem('auth_token')\n    \n\n    if(token == null){\n        history.push('/prisijungimas')\n    }\n\n    \n\n    const fetchData = async () => {\n        const api = await fetch(\"https://autoteksaitynai.azurewebsites.net/api/mechanikai/\"+ id+\"/gidai\",{\n            method: 'get',\n            headers: new Headers({\n                'Authorization': 'Bearer' + token\n            })\n        });\n        setData({\n            gidai: await api.json(),\n        });\n        \n\n        \n    };\n\n\n    useEffect(() => {\n        fetchData();\n        }, []);\n\n    if(state?.mechanikas?.status === \"Token is Expired\"){\n        localStorage.removeItem(`auth_token`)\n        localStorage.removeItem(`user_name`)\n        localStorage.removeItem(`user_role`)\n        localStorage.removeItem(`user_email`)\n        localStorage.removeItem(`user_id`)\n        history.push('/prisijungimas')\n        return null;\n    }\n\n    console.log(state?.gidai?.message)\n\n    const findMechanikas = () =>{\n        return \"/mechanikai/\"+id\n    }\n\n    if(state?.gidai?.message != undefined){\n        return(\n            <div className=\"sb-nav-fixed\">\n            <NavBar />\n            <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col-md-8\">\n                    <div className=\"card\">\n                        <div className=\"card-header\">Mechaniko Gidai\n                        </div>\n                        <a className=\"nav-link\" href={findMechanikas()}>Mechanikas</a>\n                        <div className=\"card-body\">\n                                <div className=\"row mb-3\">\n                            <label className=\"col-md-4 col-form-label text-md-right\">\n                                <label className='paddingLeft'>\n                                <label >Gidų nerasta!</label>\n                                 </label>\n                             </label>\n                             </div>\n               \n            </div>\n        </div>\n        </div>\n        </div>\n        </div></div>\n\n        );\n    }\n    else\n        return (\n        <div className=\"sb-nav-fixed\">\n            <NavBar />\n            <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col-md-8\">\n                    <div className=\"card\">\n                        <div className=\"card-header\">Mechaniko Gidai\n                        </div>\n                        <a className=\"nav-link\" href={findMechanikas()}>Mechanikas</a>\n                        <div className=\"card-body\">\n                        {\n                            state?.gidai?.map(data => (\n                                <div className=\"row mb-3\" key={data?.id}>\n                                    <div className=\"card-body\">\n                            <   label className=\"col-md-4 col-form-label text-md-right\">\n                                <label className='paddingLeft'>\n                                <label >{data?.sprendimas} </label>\n                                <td ><Link to={'/gidai/'+data.id}><button className='btn btn-dark'>Atidaryti</button></Link></td>\n                                 </label>\n                             </label>\n                             </div> </div>\n                            ))}\n               \n            </div>\n        </div>\n        </div>\n        </div>\n        </div></div>\n    );\n}\n\nexport default MechanikasGidai;\n\nif (document.getElementById('mechanikasGidai')) {\n    ReactDOM.render(<MechanikasGidai />, document.getElementById('mechanikasGidai'));\n}\n"]},"metadata":{},"sourceType":"module"}